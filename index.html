<!DOCTYPE html>
<html>
  <head>
    <title>PRF192x - Assignment 4</title>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" integrity="sha256-xNjb53/rY+WmG+4L6tTl9m6PpqknWZvRt0rO1SRnJzw=" crossorigin="anonymous"></script>
    <link type="text/css" rel="stylesheet" href="css/jquery-ui.min.css">
    <link type="text/css" rel="stylesheet" href="css/style.css">
  </head>
  
  <body>
    <div class="container">
      <h2>TO DO LIST</h2>
      
      <div class="task-list task-container" id="pending">
        <h4 class="box-title">To Do ▼</h4>
        <div class="collapse-box" id="pending-wrapper"></div>
      </div>

      <div class="task-list task-container" id="inProgress">
        <h4 class="box-title">In Progress ▼</h4>
        <div class="collapse-box" id="inProgress-wrapper"></div>
      </div>

      <div class="task-list task-container" id="completed">
        <h4 class="box-title">Completed ▼</h4>
        <div class="collapse-box" id="completed-wrapper"></div>
      </div>

      <div class="task-list">
        <h4 class="box-title">Add a task ▼</h4>
        <form id="todo-form">
          <input type="text" placeholder="Title" />
          <input type="text" placeholder="Assigned to" />
          <textarea placeholder="Description"></textarea>
          <input id="datepicker" type="text" placeholder="Due Date (dd/mm/yy)" />
          <input type="button" class="btn" value="Add Task"  onclick="todo.add();" />
        </form>

        <div id="delete-div">Drag Here to Delete</div>
      </div>
    
    </div> 
    
    <script src="js/todo.js"></script>
    <script type="text/javascript">
      $( "#datepicker" ).datepicker();
      $( "#datepicker" ).datepicker("option", "dateFormat", "dd/mm/yy");

      $(".task-container").droppable();
      $(".todo-task").draggable({ revert: "valid", revertDuration:200 });
      
      $(".box-title").click(function() {
        $header = $(this);
        $content = $header.next();
        $content.slideToggle(400, function() {
          var str = $header.text();
          str = str.substring(0, str.length - 1);
          $header.text(function() {
            return $content.is(":visible") ? (str + "▼") : (str + "▲");
          });
        }); 
      });
      todo.init();
    </script>
    
  </body>
  
</html>